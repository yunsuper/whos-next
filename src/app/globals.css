@import "tailwindcss";

@layer components {
  /**
   * 1. 로또 머신 스타일 (Lotto Machine)
   */
  .lotto-machine-wrapper {
  @apply relative flex flex-col items-center shrink-0 transition-transform duration-300;
  /* 모바일에서 축소될 때 중앙을 기준으로 줄어들게 설정 */
  transform-origin: center center; 
  scale: 0.95; /* 기본 모바일 크기 */
}

  @media (min-width: 768px) {
    .lotto-machine-wrapper {
      @apply scale-100;
    }
  }

  .lotto-canvas-container {
    @apply relative w-100 h-100;
  }

  .lotto-canvas-container {
    /* 모바일 환경을 고려해 최대 너비를 화면에 맞춤 */
    @apply relative w-80 h-80 md:w-100 md:h-100;
  }

  /* 외부 유리관 테두리 및 내부 그림자 */
  .lotto-outer-ring {
    @apply absolute inset-0 rounded-full z-20 pointer-events-none border-slate-800 shadow-[inset_0_0_60px_rgba(0,0,0,0.9)];
    
    /* [보정] 모바일(기본)에서는 테두리를 12px로 살짝 두껍게 해서 선명하게 보이게 함 */
    border-width: 12px; 

    /* [보정] 테블릿/PC(md 이상)에서는 원래 계획했던 10px로 복구 */
    @media (min-width: 768px) {
    .lotto-outer-ring {
      border-width: 10px;
    }
  }
  }

  /* 실제 캔버스 배경 및 유리 효과 */
  .lotto-canvas-bg {
    @apply w-full h-full rounded-full overflow-hidden border border-white/20;
    /* 1. 심도 깊은 유리 효과: 배경 흐림 + 굴절 느낌의 내부 그림자 */
    background: radial-gradient(circle at 30% 30%, rgba(255, 255, 255, 0.1) 0%, rgba(0, 0, 0, 0.4) 100%);
    backdrop-filter: blur(8px) saturate(120%);
    box-shadow: 
      inset 0 20px 40px rgba(255, 255, 255, 0.2), /* 상단 내부 광택 */
      inset 0 -20px 40px rgba(0, 0, 0, 0.5),    /* 하단 내부 그림자 */
      0 10px 30px rgba(0, 0, 0, 0.5);            /* 외부 그림자 */
  }

  .glass-sheen {
    @apply absolute top-[10%] left-[15%] w-[40%] h-[20%] bg-linear-to-b from-white/20 to-transparent 
           rounded-full -rotate-35 pointer-events-none blur-sm;
  }

  .glass-rim-light {
    @apply absolute bottom-[5%] right-[20%] w-[30%] h-[10%] bg-white/10 
           rounded-full blur-md pointer-events-none;
  }

  /* 하단 받침대 섹션 */
  .lotto-machine-base {
    @apply relative w-72 h-24 -mt-6 z-10;
  }

  /* 기계적인 연결 목 부위 */
  .machine-neck {
    @apply absolute top-0 left-1/2 -translate-x-1/2 w-32 h-8 bg-slate-800 border-x-4 border-slate-700 shadow-inner;
  }

  .machine-base-body {
    @apply absolute bottom-0 w-full h-20 bg-linear-to-b from-slate-700 via-slate-800 to-slate-950 
           rounded-2xl border-x-4 border-b-8 border-slate-900 shadow-[0_20px_40px_rgba(0,0,0,0.6)] 
           flex flex-col items-center justify-center overflow-hidden;
  }

  /**
   * 2. 컨트롤러 패널 (InputGroup)
   */
  .control-panel {
    @apply bg-slate-900/50 p-6 rounded-2xl border border-white/10 backdrop-blur-md w-full;
  }

  .input-field {
    @apply flex-1 bg-slate-800 border border-slate-700 rounded-lg px-4 py-2 
           focus:outline-none focus:ring-2 focus:ring-yellow-500 transition-all text-white placeholder:text-slate-500;
  }

  .participant-item {
    @apply flex justify-between items-center bg-slate-800/50 px-3 py-2 
           rounded-md border border-white/5 text-slate-200;
  }

  /* 버튼 공통 및 개별 스타일 */
  .draw-button {
    @apply flex items-center justify-center gap-2 py-3 rounded-xl font-bold transition-all shadow-lg;
  }

  .draw-button-active {
    @apply bg-linear-to-r from-orange-500 to-yellow-500 hover:from-orange-400 hover:to-yellow-400 text-black;
  }

  .draw-button-mixing {
    @apply bg-red-500 animate-pulse cursor-not-allowed text-white;
  }

  .reset-button {
    @apply flex items-center justify-center gap-2 py-3 bg-slate-800 hover:bg-slate-700 
           rounded-xl font-bold border border-white/10 transition-colors text-white;
  }

  /**
   * 3. 결과 모달 (ResultModal)
   */
  .result-modal-overlay {
    @apply fixed inset-0 z-100 flex items-center justify-center bg-black/90 backdrop-blur-xl;
  }

  .winner-display-circle {
    @apply w-48 h-48 md:w-64 md:h-64 rounded-full bg-linear-to-br from-yellow-400 to-orange-600 border-[6px] md:border-8 
           border-white shadow-[0_0_40px_rgba(251,191,36,0.6)] flex items-center justify-center 
           text-3xl md:text-5xl font-black text-slate-900 p-4 text-center;
  }

  .confirm-button {
    @apply mt-12 px-10 py-4 bg-yellow-400 text-black rounded-full font-black text-xl 
           hover:bg-yellow-300 transition-all shadow-[0_10px_30px_rgba(0,0,0,0.5)] 
           active:scale-90 z-120 cursor-pointer flex flex-col items-center;
  }

  /**
   * 4. 유틸리티 (Custom Scrollbar 등)
   */
  .custom-scrollbar::-webkit-scrollbar {
    @apply w-1.5;
  }
  .custom-scrollbar::-webkit-scrollbar-track {
    @apply bg-transparent;
  }
  .custom-scrollbar::-webkit-scrollbar-thumb {
    @apply bg-white/10 rounded-full hover:bg-white/20;
  }

  /* 1. 메인 레이아웃 및 배경 */
  .main-layout {
    @apply relative min-h-screen bg-slate-950 text-white flex flex-col items-center justify-center py-12 px-4 overflow-x-hidden;
  }

  .ambient-bg {
    @apply fixed inset-0 -z-10 pointer-events-none;
  }

  .ambient-purple {
    @apply absolute top-[-10%] left-[-10%] w-[60%] h-[60%] bg-purple-900/20 blur-[150px] rounded-full;
  }

  .ambient-blue {
    @apply absolute bottom-[-10%] right-[-10%] w-[60%] h-[60%] bg-blue-900/20 blur-[150px] rounded-full;
  }

  /* 2. 헤더 타이틀 */
  .hero-header {
    @apply text-center mb-16 z-10 w-full;
  }

  .hero-title {
    @apply text-6xl md:text-8xl font-black tracking-tighter text-transparent bg-clip-text bg-linear-to-r from-yellow-400 via-orange-500 to-red-500 pb-2;
  }

  .hero-subtitle {
    @apply text-slate-400 text-lg md:text-xl font-light tracking-[0.3em] mt-2 uppercase;
  }

  /* 3. 콘텐츠 그리드 */
  .content-grid {
    @apply flex flex-col xl:flex-row items-center xl:items-start justify-center 
           gap-8 md:gap-16 xl:gap-24 w-full max-w-7xl z-10 px-2 md:px-6;
  }

  /* 4. 히스토리 패널 */
  .history-panel {
    @apply w-full max-w-md bg-slate-900/80 p-5 md:p-6 rounded-3xl border border-white/10 backdrop-blur-2xl;
  }

  .history-header {
    @apply flex items-center justify-between mb-6 border-b border-white/5 pb-4;
  }

  .history-empty {
    @apply flex flex-col items-center justify-center h-32 text-slate-600 border-2 border-dashed border-white/5 rounded-2xl bg-white/5;
  }

  .winner-card {
    @apply bg-linear-to-br from-white/10 to-transparent border border-white/5 px-4 py-3 rounded-xl text-center font-bold text-slate-200;
  }

  /* 5. 시스템 상태 표시등 (Machine Base 내부) */
  .system-status {
    @apply flex items-center gap-3 mb-2;
  }

  .status-light {
    @apply w-3 h-3 rounded-full bg-red-600 animate-pulse shadow-[0_0_15px_#dc2626];
  }

  .scan-bar-container {
    @apply w-32 h-1.5 bg-red-900/50 rounded-full overflow-hidden border border-red-500/30;
  }

  .scan-bar-active {
    @apply w-1/2 h-full bg-red-500 shadow-[0_0_10px_#ef4444];
  }

  /* 푸터 레이아웃 */
  .footer-container {
    @apply w-full py-10 mt-12 flex flex-col items-center justify-center border-t border-white/5 z-10;
  }

  /* 제작자 텍스트 스타일 */
  .footer-brand {
    @apply text-slate-500 text-sm font-medium tracking-[0.2em] uppercase transition-colors hover:text-yellow-500;
  }

  .footer-name {
    @apply font-black text-slate-400 ml-2 hover:text-white transition-all;
    text-shadow: 0 0 10px rgba(255, 255, 255, 0.1);
  }

  /* 저작권 문구 */
  .footer-copy {
    @apply text-[10px] text-slate-600 mt-2 font-mono uppercase tracking-widest;
  }
}